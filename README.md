# ProjectMinotaur
Project Minotaur 设计思路

人物和怪物做一个实时的图层排序 ok

场景中不靠边的部件也要图层排序 ok

人物/怪物攻击时调用攻击区，受击区trigger，地形区非trigger，人物和怪物没有地形碰撞 ok

**碰撞体分为三个区**：攻击区（实体） 受击区（触发） 地形区（实体）

受击区现在是对象变量(object)，角色以及攻击碰撞是场景变量(scene)



**实现过程**

加入图层排序→碰撞三个区（**完成**）

→受击的后退与重量（**完成**）

→攻击力与血量（需要一个受击死亡动画过度 **完成**/怪物受击修改**完成**）

→怪物死亡后处理（**完成**）

→玩家死亡处理（**差个UI**现在会在一段时间后重启游戏）

→怪物AI（巡逻，追击，放弃追击，攻击决定**完成**）

→场景

​	切换场景的脚本 **完成**

​	切换场景的位置保存 **完成**

​	场景间保存玩家信息脚本（需要保存血量，攻击力 **完成** 

​	按F互动脚本 **完成** 

​	->衍生掉落道具

​		*道具的脚本：被触碰时使用，做成prefab **完成**

​		*道具掉落的同一脚本可以用来做怪物的道具掉落，死亡时触发即可，为怪物添加一个携带Object

​	->衍生限制互动（如有钥匙才能和门互动 请将门命名带Gate **完成**

​	->衍生取消碰撞区（如栅栏 **完成**

->UI 

​	血量和道具文字显示 **完成**

​	字幕淡出效果 **完成**

→新怪(添加了**哥布林** **米诺陶**)

→BGM

→音效 **大概是不做了**



**TODO**

场景2 可以让米诺陶大只一点 加个栅栏 来一个触发锁门 **完成**

LEVEL1.5 骷髅陷阱箱 **完成**

**BGM** 关卡1 - 1.5 **完成**/ 陷阱 **完成** / BOSS **完成**/ 通关 / 死亡？

**UI** 死亡 / 通关 **完成**

**UI** 玩家状态，BOSS血条，道具栏  **完成**

**UI** 游戏切换场景小标题？



\***设计碰撞检测，现在把天花板设为Foreground layer**

***设计交互检测，现在所有道具layer设为Item**

\*注意状态图中的update模块， 状态机里加状态机要谨慎

*试一下墙壁检测能不能改进

*怪物受击有点BUG不过我改不动了 **改好了啊哈哈哈哈哈**

\* **人为什么会被打进墙里面？？？**

\*<font color=red>**建议所有需要需要排序的sprite分离viot设在底部**</font>

*2018/12/15 修改了人物的viot现在和米诺陶战斗不会怪怪的

2018/12/18/人物死亡后不会被鞭尸 & 怪物不会继续追击 **完成**



**新建怪物的流程**

sprite动画 动画状态机 初始必要的几个object属性

碰撞层monster tag设置needsort

放到中间层，加上相对命名格式的三个碰撞体collider

**怪物object属性** 

1. 被击碰撞区 AttackedCollider GameObject  
2. 攻击碰撞区 AttackCollider GameObject
3. 运动 Movement Vector2
4. 攻击 Attack float
5. 血量 Health float
6. 速度 Speed float
7. 索敌距离 EyeSight float
8. 反应时间 Reflection float
9. 是否追击 Follow bool
10. 是否携带物品 CarryItem bool
11. 所携带物品 CarriedItem GameObject
12. 脚本用 StopMoving bool



现在起要**为每个场景保存一个复原位置**（中心位置）

现在起不需要每个怪物都设置一个复原位置了**finished**

第三关的场景 **初步finished**



**玩家** 攻击5（有/2效应） 血量25 速度0.5

**史莱姆** 攻击2 血量10 速度0.1 索敌距离0.5 反应时间 0.5 可选范围∈(0, 1]越小反应越快

**哥布林精英** 攻击4 血量15速度0.3 索敌距离1 反应时间0.1 不跟随

EX哥布林精英

**骷髅** 攻击5 血量7 速度0.5 索敌距离1 反应时间0.2 不跟随

**米诺陶** 攻击8 血量57 速度0.4 索敌距离1 反应时间0.2 跟随



**应用Scene属性**

冲击力AttackForce 50

角色/ 角色攻击区/ 角色受击区/ 天花板 维持**场景变量**

